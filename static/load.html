<!DOCTYPE html>
<html lang="en">

<script>
  const xor={encode:o=>o?encodeURIComponent(o.toString().split("").map((o,e)=>e%2?String.fromCharCode(2^o.charCodeAt()):o).join("")):o,decode(o){if(!o)return o;let[e,...r]=o.split("?");return decodeURIComponent(e).split("").map((o,e)=>e%2?String.fromCharCode(2^o.charCodeAt(0)):o).join("")+(r.length?"?"+r.join("?"):"")}};
</script>

<head>
  <title>Google</title>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="https://www.google.com/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/loader.css">
  <script src="/js/main.js" type="module"></script>
</head>

<body>
  <div id="iframeContainer">
    <div id="frameContainer">
      <iframe
        id="frame"
        frameborder="0"
        width="75%"
        height="100%"
        cellspacing="0"
        src=""
      ></iframe>
      <button
        id="fullscreenBtn"
        class="fa-solid fa-expand"
      ></button>
    </div>
  </div>

  <script>
    window.addEventListener('DOMContentLoaded', function() {
      var iframe = document.getElementById('frame');
      var fullscreenBtn = document.getElementById('fullscreenBtn');

      // localstorage stuff
      if (localStorage.getItem('url')) {
        iframe.src=localStorage.getItem('proxyLink')+xor.encode(localStorage.getItem('url'));
      }

      // shamelessly stolen from google
      fullscreenBtn.addEventListener('click', function() {
        if (iframe.requestFullscreen) {
          iframe.requestFullscreen();
        } else if (iframe.mozRequestFullScreen) {
          iframe.mozRequestFullScreen();
        } else if (iframe.webkitRequestFullscreen) {
          iframe.webkitRequestFullscreen();
        } else if (iframe.msRequestFullscreen) {
          iframe.msRequestFullscreen();
        }
      });
    });
  </script>
</body>

</html>
