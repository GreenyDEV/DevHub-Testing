<!DOCTYPE html>
<html lang="en">

<head>
  <title>Google</title>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="https://www.google.com/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/css/main.css">
  <script src="/js/main.js" type="module"></script>

  <body>
    <br><br><br><br><br><br><br><br>
    <input type="text" class="round-input" onkeypress="keyCheck(event)" id="input"placeholder="Enter URL or query">
    <br><br><br>
    <button onclick="go()"style='font-family: Monospace; font-size: 28px;'>Browse</button>
  </body>
  
</html>

<script>

function keyCheck(event) {
  if (event.keyCode === 13) { 
        go()
      }
    }

function isUrl(val) {
  const urlRegex = /^(https?:\/\/)?([\w.-]+)\.([a-z]{2,})(\/.*)?$/i;
  return urlRegex.test(val);
}

function go() {
  const url = document.getElementById("input").value;
  let modifiedUrl = url;
  
  if (!isUrl(url)) {
    modifiedUrl = 'https://www.google.com/search?q=' + url;
  } else if (!(url.startsWith('https://') || url.startsWith('http://'))) {
    modifiedUrl = 'http://' + url;
  }


  location.href = localStorage.getItem("proxyLink") + xor.encode(modifiedUrl);
}

</script>

<style>
      .round-input {
      width: 300px;
      height: 30px;
      border: none;
      border-radius: 20px;
      padding: 10px;
      font-size: 24px;
      box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
      outline: none;
    }
</style>